!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).urlobj=t()}}(function(){return function s(a,i,h){function l(r,t){if(!i[r]){if(!a[r]){var e="function"==typeof require&&require;if(!t&&e)return e(r,!0);if(u)return u(r,!0);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}var o=i[r]={exports:{}};a[r][0].call(o.exports,function(t){var e=a[r][1][t];return l(e||t)},o,o.exports,s,a,i,h)}return i[r].exports}for(var u="function"==typeof require&&require,t=0;t<h.length;t++)l(h[t]);return l}({1:[function(t,e,r){"use strict";e.exports={OTHER:-1,STRING:0,CORE_URL_OBJECT:1,URLOBJ:2}},{}],2:[function(t,e,r){"use strict";e.exports={NOTHING:-1,PROTOCOL:0,SCHEME:0,HOSTNAME:4,PORT:5,HOST:6,AUTH:7,DIRECTORY:8,FILENAME:9,PATHNAME:10,QUERY:11,SEARCH:11,PATH:12,HASH:13,FRAGMENT:13}},{}],3:[function(t,e,r){"use strict";e.exports={UNKNOWN:-1,ABSOLUTE:0,PROTOCOL_RELATIVE:1,ROOT_RELATIVE:2,DIRECTORY_RELATIVE:3,FILENAME_RELATIVE:4,QUERY_RELATIVE:5,EMPTY:6,HASH_RELATIVE:7}},{}],4:[function(t,e,r){"use strict";e.exports=function(t,e,r,n){var o,s=t.length,a=r.length;if(s<1&&!1===e)return!0;if(a<1&&!1===n)return!0;if(e!==n)return!1;if(s!==a)return!1;for(o=0;o<s;o++)if(t[o]!==r[o])return!1;return!0}},{}],5:[function(t,e,r){"use strict";var u=Object.prototype.hasOwnProperty;e.exports=function(t,e){var r,n,o,s,a,i,h,l=0;for(r in t){if(s=u.call(t,r),i=u.call(e,r),!1===s||!1===i||s!==i)return!1;if((s=t[r])!==(i=e[r])){if(!1===Array.isArray(s)||!1===Array.isArray(i))return!1;if((o=s.length)!==i.length)return!1;for(a=s.slice().sort(),h=i.slice().sort(),n=0;n<o;n++)if(a[n]!==h[n])return!1}l++}return l===Object.keys(e).length}},{}],6:[function(t,e,r){"use strict";e.exports=function(t){var e=t.pathname;return null!==t.search&&(e+=t.search),e}},{}],7:[function(t,e,r){"use strict";var n=t("./joinDirs");e.exports=function(t){var e=n(t.extra.directory,t.extra.directoryLeadingSlash);return null!==t.extra.filename&&(e+=t.extra.filename),e}},{"./joinDirs":10}],8:[function(t,e,r){"use strict";var n=t("is-object"),o=t("is-string"),s=t("./InputTypes");e.exports=function(t){return!0===o(t)?s.STRING:!0===n(t)&&!1===Array.isArray(t)&&void 0!==t.protocol?!0===n(t.extra)?s.URLOBJ:s.CORE_URL_OBJECT:s.OTHER}},{"./InputTypes":1,"is-object":21,"is-string":22}],9:[function(t,e,r){"use strict";var n=t("is-object"),o={ftp:21,gopher:70,http:80,https:443};e.exports=function(t,e,r){return null!==t?null===e||(!1===n(r)&&(r=o),r[t]===parseInt(e)):null}},{"is-object":21}],10:[function(t,e,r){"use strict";e.exports=function(t,e){var r,n=t.length,o=!0===e?"/":"";for(r=0;r<n;r++)""!==t[r]&&(o+=t[r]+"/");return o}},{}],11:[function(t,e,r){"use strict";function h(t,e,r,n){var o="";return(""!==t&&""!==e||!0!==n)&&(o+=1<++r.i?"&":"?",t=encodeURIComponent(t),o+=""!==e?t+"="+encodeURIComponent(e).replace(/%20/g,"+"):t+"="),o}e.exports=function(t,e){var r,n,o,s,a={i:0},i="";for(s in t)if(!0===t.hasOwnProperty(s))if(o=t[s],!1===Array.isArray(o))i+=h(s,o,a,e);else for(n=o.length,r=0;r<n;r++)i+=h(s,o[r],a,e);return i}},{}],12:[function(t,e,r){"use strict";e.exports=function(t,e){var r,n,o,s=t.length,a={dir:[],leadingSlash:!0===e};for(n=0;n<s;n++)".."!==(r=t[n])?"."!==r&&a.dir.push(r):null!==(o=0<a.dir.length?a.dir[a.dir.length-1]:null)&&(!0===a.leadingSlash||".."!==o&&"."!==o)?a.dir.splice(a.dir.length-1,1):!1===a.leadingSlash&&a.dir.push(r);return a}},{}],13:[function(t,e,r){"use strict";var n=t("is-string"),o=t("url"),s=t("./formatPath"),a=t("./formatPathname"),i=t("./normalizeDirs"),h=t("./parseUrl");e.exports=function(t,e){var r;return!0===(t=h(t,e)).extra.portIsDefault&&null!==t.port&&(!0===n(t.host)&&(r=":"+t.port,t.host.substr(-r.length)===r&&(t.host=t.host.slice(0,-r.length))),t.port=null),t.extra.directory=i(t.extra.directory,t.extra.directoryLeadingSlash).dir,t.pathname=a(t),"?"===t.search&&(t.search=null,"?"!==t.query&&""!==t.query||(t.query=null)),t.path=s(t),t.href=o.format(t),t}},{"./formatPath":6,"./formatPathname":7,"./normalizeDirs":12,"./parseUrl":15,"is-string":22,url:28}],14:[function(t,e,r){"use strict";var o=t("is-string");function s(t){var e,r,n,o=[];if("/"!==t)for(n=(e=t.split("/")).length,r=0;r<n;r++)""!==e[r]&&o.push(e[r]);return o}e.exports=function(t){var e,r,n={dir:[],filename:null,leadingSlash:!1};return!0===o(t)&&0<t.length&&(-1<(r=t.lastIndexOf("/"))?(++r<t.length&&("."!==(e=t.substr(r))&&".."!==e?(n.filename=e,t=t.substr(0,r)):t+="/"),n.dir=s(t)):"."===t||".."===t?(t+="/",n.dir=s(t)):n.filename=t,n.leadingSlash="/"===t[0]),n}},{"is-string":22}],15:[function(t,e,r){"use strict";var l=t("./inputType"),u=t("./InputTypes"),c=t("./isDefaultPort"),f=t("./parsePath"),p=t("./typeofUrl"),y=(t("./UrlType"),t("is-object")),d=t("is-string"),m=t("url"),g=["index.html"];e.exports=function(t,e,r){var n,o,s,a,i,h=(s=r,!0===y(o=e)?o:{parseQueryString:o,slashesDenoteHost:s});switch(l(t)){case u.STRING:t=m.parse(t,!0,h.slashesDenoteHost);break;case u.CORE_URL_OBJECT:(null==t.search&&null==t.query||!0===d(t.search)&&!0===d(t.query))&&(t=m.parse(t.href,!0,h.slashesDenoteHost));break;case u.URLOBJ:return t;default:throw new Error("invalid input type")}return""===t.search&&(t.search=null),n=f(t.pathname),t.extra={},!0===d(t.protocol)?":"===t.protocol[t.protocol.length-1]&&(t.extra.protocolTruncated=t.protocol.substr(0,t.protocol.length-1)):t.extra.protocolTruncated=null,t.extra.portIsDefault=c(t.extra.protocolTruncated,t.port,h.defaultPorts),t.extra.directory=n.dir,t.extra.directoryLeadingSlash=n.leadingSlash,t.extra.filename=n.filename,t.extra.filenameIsIndex=(a=n.filename,i=h.directoryIndexes,null===a||(!1===Array.isArray(i)&&(i=g),-1<i.indexOf(a))),t.extra.query=t.query,!0!==h.parseQueryString&&(null!==t.search?"?"===t.search[0]?t.query=t.search.substr(1):t.query=t.search:(t.search=null,t.query=null)),t.extra.type=p(t),t}},{"./InputTypes":1,"./UrlType":3,"./inputType":8,"./isDefaultPort":9,"./parsePath":14,"./typeofUrl":18,"is-object":21,"is-string":22,url:28}],16:[function(t,e,r){"use strict";var s=t("./normalizeDirs");e.exports=function(t,e,r,n){var o={dir:null,leadingSlash:!1};return!0===n?(o.dir=r.slice(),o.leadingSlash=n):(o.dir=t.concat(r),o.leadingSlash=!0===e),o.dir=s(o.dir,o.leadingSlash).dir,o}},{"./normalizeDirs":12}],17:[function(t,e,r){"use strict";var T=t("./areSameDir"),j=t("./formatPath"),I=t("./formatPathname"),S=t("./isDefaultPort"),A=t("./normalizeDirs"),R=t("./parseUrl"),U=t("./resolveDirs"),L=t("./typeofUrl"),C=t("./UrlComponent"),D=t("./urlRelation"),q=t("./UrlType"),w=t("is-object"),P=t("object-assign"),N=t("url"),H={slashesDenoteHost:!0};e.exports=function(t,e,r){var n,o,s,a,i,h,l,u,c,f,p,y,d,m,g,x=!1,v=!1,O=!1,b=!1,E=!1;return r=P({},H,r),t=R(t,r),e=R(e,r),(o=D(t,e))<C.AUTH||(s=t,!0==(b=(a=e).extra.type>=q.PROTOCOL_RELATIVE&&(a.protocol=s.protocol,a.slashes=s.slashes,a.extra.protocolTruncated=s.extra.protocolTruncated,!0))&&(i=t,O=(h=e).extra.type>=q.ROOT_RELATIVE&&(h.auth=i.auth,h.host=i.host,h.port=i.port,h.hostname=i.hostname,h.extra.portIsDefault=i.extra.portIsDefault,!0)),o<C.DIRECTORY||e.extra.type<q.FILENAME_RELATIVE?(f=e,(c=t).extra.directory=A(c.extra.directory,c.extra.directoryLeadingSlash).dir,f.extra.directory=A(f.extra.directory,f.extra.directoryLeadingSlash).dir,p=U(c.extra.directory,c.extra.directoryLeadingSlash,f.extra.directory,f.extra.directoryLeadingSlash),f.extra.directory=p.dir,f.extra.directoryLeadingSlash=p.leadingSlash,x=!0,n=T(t.extra.directory,t.extra.directoryLeadingSlash,e.extra.directory,e.extra.directoryLeadingSlash)):(l=t,n=x=(u=e).extra.type>=q.FILENAME_RELATIVE&&(u.extra.directory=l.extra.directory.slice(),u.extra.directoryLeadingSlash=l.extra.directoryLeadingSlash,!0)),(o>=C.DIRECTORY||!0===n)&&(m=t,v=(g=e).extra.type>=q.QUERY_RELATIVE&&(g.extra.filename=m.extra.filename,g.extra.filenameIsIndex=m.extra.filenameIsIndex,!0),y=t,E=(d=e).extra.type>=q.EMPTY&&(d.search=y.search,!0===w(y.query)?(d.query=P({},y.query),d.extra.query=d.query):(d.query=y.query,d.extra.query=P({},y.extra.query)),!0)),!0!==x&&!0!==v||(e.pathname=I(e)),!0!==x&&!0!==v&&!0!==E||(e.path=j(e)),!0===b&&!1===O&&(e.extra.portIsDefault=S(e.protocol,e.port,r.defaultPorts)),!0!==b&&!0!==O&&!0!==x&&!0!==v&&!0!==E||(e.href=N.format(e),e.extra.type=L(e))),e}},{"./UrlComponent":2,"./UrlType":3,"./areSameDir":4,"./formatPath":6,"./formatPathname":7,"./isDefaultPort":9,"./normalizeDirs":12,"./parseUrl":15,"./resolveDirs":16,"./typeofUrl":18,"./urlRelation":19,"is-object":21,"object-assign":23,url:28}],18:[function(t,e,r){"use strict";var n=t("./UrlType");e.exports=function(t){return null!==t.protocol?n.ABSOLUTE:null!==t.hostname?n.PROTOCOL_RELATIVE:!0===t.extra.directoryLeadingSlash?n.ROOT_RELATIVE:0<t.extra.directory.length?n.DIRECTORY_RELATIVE:null!==t.extra.filename?n.FILENAME_RELATIVE:null!==t.search?n.QUERY_RELATIVE:null===t.hash?n.EMPTY:n.HASH_RELATIVE}},{"./UrlType":3}],19:[function(t,e,r){"use strict";var n=t("./areSameDir"),o=t("./areSameQuery"),s=t("./normalizeDirs"),a=t("./parseUrl"),i=t("./UrlComponent"),h=t("./UrlType");e.exports=function(t,e){if(t=a(t),e=a(e),t.extra.type<h.EMPTY&&e.extra.type<h.EMPTY){if(t.extra.type===h.ABSOLUTE&&e.extra.type===h.ABSOLUTE){if(t.protocol!==e.protocol)return i.NOTHING;if(t.hostname!==e.hostname)return i.PROTOCOL;if(t.port!==e.port)return i.HOSTNAME;if(t.auth!==e.auth)return i.HOST}if(!1===n(s(t.extra.directory,t.extra.directoryLeadingSlash).dir,t.extra.directoryLeadingSlash,s(e.extra.directory,e.extra.directoryLeadingSlash).dir,e.extra.directoryLeadingSlash))return i.AUTH;if(t.extra.filename!==e.extra.filename&&(!1===t.extra.filenameIsIndex||!1===e.extra.filenameIsIndex))return i.DIRECTORY;if(!1===o(t.extra.query,e.extra.query))return i.FILENAME}return t.hash!==e.hash?i.PATH:i.HASH}},{"./UrlComponent":2,"./UrlType":3,"./areSameDir":4,"./areSameQuery":5,"./normalizeDirs":12,"./parseUrl":15}],20:[function(t,e,r){"use strict";e.exports={format:t("url").format,normalize:t("./normalizeUrl"),parse:t("./parseUrl"),relation:t("./urlRelation"),resolve:t("./resolveUrl"),component:t("./UrlComponent"),type:t("./UrlType"),areSameDir:t("./areSameDir"),areSameQuery:t("./areSameQuery"),joinDirs:t("./joinDirs"),joinQuery:t("./joinQuery"),normalizeDirs:t("./normalizeDirs"),parsePath:t("./parsePath"),resolveDirs:t("./resolveDirs"),typeofUrl:t("./typeofUrl")}},{"./UrlComponent":2,"./UrlType":3,"./areSameDir":4,"./areSameQuery":5,"./joinDirs":10,"./joinQuery":11,"./normalizeDirs":12,"./normalizeUrl":13,"./parsePath":14,"./parseUrl":15,"./resolveDirs":16,"./resolveUrl":17,"./typeofUrl":18,"./urlRelation":19,url:28}],21:[function(t,e,r){"use strict";e.exports=function(t){return"object"==typeof t&&null!==t}},{}],22:[function(t,e,r){"use strict";var n=String.prototype.valueOf,o=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(t){return"string"==typeof t||"object"==typeof t&&(s?function(t){try{return n.call(t),!0}catch(t){return!1}}(t):"[object String]"===o.call(t))}},{}],23:[function(t,e,r){"use strict";var h=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,n,o=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),s=1;s<arguments.length;s++){for(var a in r=Object(arguments[s]))l.call(r,a)&&(o[a]=r[a]);if(h){n=h(r);for(var i=0;i<n.length;i++)u.call(r,n[i])&&(o[n[i]]=r[n[i]])}}return o}},{}],24:[function(t,D,q){(function(C){!function(t){var e="object"==typeof q&&q&&!q.nodeType&&q,r="object"==typeof D&&D&&!D.nodeType&&D,n="object"==typeof C&&C;n.global!==n&&n.window!==n&&n.self!==n||(t=n);var o,s,g=2147483647,x=36,v=1,O=26,a=38,i=700,b=72,E=128,T="-",h=/^xn--/,l=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=x-v,j=Math.floor,I=String.fromCharCode;function S(t){throw new RangeError(c[t])}function p(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function y(t,e){var r=t.split("@"),n="";return 1<r.length&&(n=r[0]+"@",t=r[1]),n+p((t=t.replace(u,".")).split("."),e).join(".")}function A(t){for(var e,r,n=[],o=0,s=t.length;o<s;)55296<=(e=t.charCodeAt(o++))&&e<=56319&&o<s?56320==(64512&(r=t.charCodeAt(o++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--):n.push(e);return n}function R(t){return p(t,function(t){var e="";return 65535<t&&(e+=I((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=I(t)}).join("")}function U(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function L(t,e,r){var n=0;for(t=r?j(t/i):t>>1,t+=j(t/e);f*O>>1<t;n+=x)t=j(t/f);return j(n+(f+1)*t/(t+a))}function d(t){var e,r,n,o,s,a,i,h,l,u,c,f=[],p=t.length,y=0,d=E,m=b;for((r=t.lastIndexOf(T))<0&&(r=0),n=0;n<r;++n)128<=t.charCodeAt(n)&&S("not-basic"),f.push(t.charCodeAt(n));for(o=0<r?r+1:0;o<p;){for(s=y,a=1,i=x;p<=o&&S("invalid-input"),c=t.charCodeAt(o++),(x<=(h=c-48<10?c-22:c-65<26?c-65:c-97<26?c-97:x)||h>j((g-y)/a))&&S("overflow"),y+=h*a,!(h<(l=i<=m?v:m+O<=i?O:i-m));i+=x)a>j(g/(u=x-l))&&S("overflow"),a*=u;m=L(y-s,e=f.length+1,0==s),j(y/e)>g-d&&S("overflow"),d+=j(y/e),y%=e,f.splice(y++,0,d)}return R(f)}function m(t){var e,r,n,o,s,a,i,h,l,u,c,f,p,y,d,m=[];for(f=(t=A(t)).length,e=E,s=b,a=r=0;a<f;++a)(c=t[a])<128&&m.push(I(c));for(n=o=m.length,o&&m.push(T);n<f;){for(i=g,a=0;a<f;++a)e<=(c=t[a])&&c<i&&(i=c);for(i-e>j((g-r)/(p=n+1))&&S("overflow"),r+=(i-e)*p,e=i,a=0;a<f;++a)if((c=t[a])<e&&++r>g&&S("overflow"),c==e){for(h=r,l=x;!(h<(u=l<=s?v:s+O<=l?O:l-s));l+=x)d=h-u,y=x-u,m.push(I(U(u+d%y,0))),h=j(d/y);m.push(I(U(h,0))),s=L(r,p,n==o),r=0,++n}++r,++e}return m.join("")}if(o={version:"1.4.1",ucs2:{decode:A,encode:R},decode:d,encode:m,toASCII:function(t){return y(t,function(t){return l.test(t)?"xn--"+m(t):t})},toUnicode:function(t){return y(t,function(t){return h.test(t)?d(t.slice(4).toLowerCase()):t})}},e&&r)if(D.exports==e)r.exports=o;else for(s in o)o.hasOwnProperty(s)&&(e[s]=o[s]);else t.punycode=o}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],25:[function(t,e,r){"use strict";e.exports=function(t,e,r,n){e=e||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var s=/\+/g;t=t.split(e);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var i,h,l=t.length;0<a&&a<l&&(l=a);for(var u=0;u<l;++u){var c,f,p,y,d=t[u].replace(s,"%20"),m=d.indexOf(r);0<=m?(c=d.substr(0,m),f=d.substr(m+1)):(c=d,f=""),p=decodeURIComponent(c),y=decodeURIComponent(f),i=o,h=p,Object.prototype.hasOwnProperty.call(i,h)?g(o[p])?o[p].push(y):o[p]=[o[p],y]:o[p]=y}return o};var g=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],26:[function(t,e,r){"use strict";var s=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(r,n,o,t){return n=n||"&",o=o||"=",null===r&&(r=void 0),"object"==typeof r?i(h(r),function(t){var e=encodeURIComponent(s(t))+o;return a(r[t])?i(r[t],function(t){return e+encodeURIComponent(s(t))}).join(n):e+encodeURIComponent(s(r[t]))}).join(n):t?encodeURIComponent(s(t))+o+encodeURIComponent(s(r)):""};var a=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function i(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var h=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},{}],27:[function(t,e,r){"use strict";r.decode=r.parse=t("./decode"),r.encode=r.stringify=t("./encode")},{"./decode":25,"./encode":26}],28:[function(t,e,r){"use strict";var q=t("punycode"),w=t("./util");function A(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=s,r.resolve=function(t,e){return s(t,!1,!0).resolve(e)},r.resolveObject=function(t,e){return t?s(t,!1,!0).resolveObject(e):e},r.format=function(t){w.isString(t)&&(t=s(t));return t instanceof A?t.format():A.prototype.format.call(t)},r.Url=A;var P=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,N=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),H=["'"].concat(o),_=["%","/","?",";","#"].concat(H),M=["/","?","#"],z=/^[+a-z0-9A-Z_-]{0,63}$/,V=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Y={javascript:!0,"javascript:":!0},Q={javascript:!0,"javascript:":!0},F={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},k=t("querystring");function s(t,e,r){if(t&&w.isObject(t)&&t instanceof A)return t;var n=new A;return n.parse(t,e,r),n}A.prototype.parse=function(t,e,r){if(!w.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),o=-1!==n&&n<t.indexOf("#")?"?":"#",s=t.split(o);s[0]=s[0].replace(/\\/g,"/");var a=t=s.join(o);if(a=a.trim(),!r&&1===t.split("#").length){var i=N.exec(a);if(i)return this.path=a,this.href=a,this.pathname=i[1],i[2]?(this.search=i[2],this.query=e?k.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var h=P.exec(a);if(h){var l=(h=h[0]).toLowerCase();this.protocol=l,a=a.substr(h.length)}if(r||h||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var u="//"===a.substr(0,2);!u||h&&Q[h]||(a=a.substr(2),this.slashes=!0)}if(!Q[h]&&(u||h&&!F[h])){for(var c,f,p=-1,y=0;y<M.length;y++){-1!==(d=a.indexOf(M[y]))&&(-1===p||d<p)&&(p=d)}-1!==(f=-1===p?a.lastIndexOf("@"):a.lastIndexOf("@",p))&&(c=a.slice(0,f),a=a.slice(f+1),this.auth=decodeURIComponent(c)),p=-1;for(y=0;y<_.length;y++){var d;-1!==(d=a.indexOf(_[y]))&&(-1===p||d<p)&&(p=d)}-1===p&&(p=a.length),this.host=a.slice(0,p),a=a.slice(p),this.parseHost(),this.hostname=this.hostname||"";var m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m)for(var g=this.hostname.split(/\./),x=(y=0,g.length);y<x;y++){var v=g[y];if(v&&!v.match(z)){for(var O="",b=0,E=v.length;b<E;b++)127<v.charCodeAt(b)?O+="x":O+=v[b];if(!O.match(z)){var T=g.slice(0,y),j=g.slice(y+1),I=v.match(V);I&&(T.push(I[1]),j.unshift(I[2])),j.length&&(a="/"+j.join(".")+a),this.hostname=T.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),m||(this.hostname=q.toASCII(this.hostname));var S=this.port?":"+this.port:"",A=this.hostname||"";this.host=A+S,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!Y[l])for(y=0,x=H.length;y<x;y++){var R=H[y];if(-1!==a.indexOf(R)){var U=encodeURIComponent(R);U===R&&(U=escape(R)),a=a.split(R).join(U)}}var L=a.indexOf("#");-1!==L&&(this.hash=a.substr(L),a=a.slice(0,L));var C=a.indexOf("?");if(-1!==C?(this.search=a.substr(C),this.query=a.substr(C+1),e&&(this.query=k.parse(this.query)),a=a.slice(0,C)):e&&(this.search="",this.query={}),a&&(this.pathname=a),F[l]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){S=this.pathname||"";var D=this.search||"";this.path=S+D}return this.href=this.format(),this},A.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&w.isObject(this.query)&&Object.keys(this.query).length&&(s=k.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||F[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace("#","%23"))+n},A.prototype.resolve=function(t){return this.resolveObject(s(t,!1,!0)).format()},A.prototype.resolveObject=function(t){if(w.isString(t)){var e=new A;e.parse(t,!1,!0),t=e}for(var r=new A,n=Object.keys(this),o=0;o<n.length;o++){var s=n[o];r[s]=this[s]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),i=0;i<a.length;i++){var h=a[i];"protocol"!==h&&(r[h]=t[h])}return F[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!F[t.protocol]){for(var l=Object.keys(t),u=0;u<l.length;u++){var c=l[u];r[c]=t[c]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||Q[t.protocol])r.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),r.pathname=f.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var p=r.pathname||"",y=r.search||"";r.path=p+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var d=r.pathname&&"/"===r.pathname.charAt(0),m=t.host||t.pathname&&"/"===t.pathname.charAt(0),g=m||d||r.host&&t.pathname,x=g,v=r.pathname&&r.pathname.split("/")||[],O=(f=t.pathname&&t.pathname.split("/")||[],r.protocol&&!F[r.protocol]);if(O&&(r.hostname="",r.port=null,r.host&&(""===v[0]?v[0]=r.host:v.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),g=g&&(""===f[0]||""===v[0])),m)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,v=f;else if(f.length)v||(v=[]),v.pop(),v=v.concat(f),r.search=t.search,r.query=t.query;else if(!w.isNullOrUndefined(t.search)){if(O)r.hostname=r.host=v.shift(),(I=!!(r.host&&0<r.host.indexOf("@"))&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift());return r.search=t.search,r.query=t.query,w.isNull(r.pathname)&&w.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!v.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var b=v.slice(-1)[0],E=(r.host||t.host||1<v.length)&&("."===b||".."===b)||""===b,T=0,j=v.length;0<=j;j--)"."===(b=v[j])?v.splice(j,1):".."===b?(v.splice(j,1),T++):T&&(v.splice(j,1),T--);if(!g&&!x)for(;T--;T)v.unshift("..");!g||""===v[0]||v[0]&&"/"===v[0].charAt(0)||v.unshift(""),E&&"/"!==v.join("/").substr(-1)&&v.push("");var I,S=""===v[0]||v[0]&&"/"===v[0].charAt(0);O&&(r.hostname=r.host=S?"":v.length?v.shift():"",(I=!!(r.host&&0<r.host.indexOf("@"))&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift()));return(g=g||r.host&&v.length)&&!S&&v.unshift(""),v.length?r.pathname=v.join("/"):(r.pathname=null,r.path=null),w.isNull(r.pathname)&&w.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},A.prototype.parseHost=function(){var t=this.host,e=n.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":29,punycode:24,querystring:27}],29:[function(t,e,r){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}]},{},[20])(20)});